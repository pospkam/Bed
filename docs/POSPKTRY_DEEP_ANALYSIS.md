# üî¨ –ü–û–î–†–û–ë–ù–ï–ô–®–ò–ô –ê–ù–ê–õ–ò–ó PosPkTry (KamHub)

## üìã –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/pospkam/PosPkTry  
**–†–∞–∑–º–µ—Ä:** 41.4 MB (41,424 KB)  
**–ù–∞–∑–≤–∞–Ω–∏–µ:** Kamchatour Hub (KamHub)  
**–°–æ–∑–¥–∞–Ω:** 6 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–ü–æ—Å–ª–µ–¥–Ω–∏–π push:** 6 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ç–∫–∞:** main  
**–°—Ç–∞—Ç—É—Å:** Production Ready  

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**KamHub** - —ç—Ç–æ **–µ–¥–∏–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞** –¥–ª—è —Ç—É—Ä–∏–∑–º–∞ –Ω–∞ –ö–∞–º—á–∞—Ç–∫–µ, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è:
- üë§ –¢—É—Ä–∏—Å—Ç–æ–≤
- üé£ –¢—É—Ä–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤  
- ü•æ –ì–∏–¥–æ–≤
- üöó –¢—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- üíº –ê–≥–µ–Ω—Ç–æ–≤/–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤
- üè® –ü–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- üéí –ü–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è
- üéÅ –ü—Ä–æ–¥–∞–≤—Ü–æ–≤ —Å—É–≤–µ–Ω–∏—Ä–æ–≤
- üöô –ü—Ä–æ–∫–∞—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- üë®‚Äçüíº –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  PRESENTATION LAYER                     ‚îÇ
‚îÇ  Next.js 15.5 App Router (91 —Å—Ç—Ä–∞–Ω–∏—Ü–∞)                 ‚îÇ
‚îÇ  - 15 —Ä–æ–ª—å-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö dashboards                       ‚îÇ
‚îÇ  - AI –≤–∏–¥–∂–µ—Ç—ã (Groq, DeepSeek)                          ‚îÇ
‚îÇ  - –ü–æ–≥–æ–¥–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã (–Ø–Ω–¥–µ–∫—Å)                            ‚îÇ
‚îÇ  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã (–Ø–Ω–¥–µ–∫—Å)                         ‚îÇ
‚îÇ  - Responsive UI (Samsung Weather —Å—Ç–∏–ª—å)                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    API LAYER                            ‚îÇ
‚îÇ  215 API Routes (REST-–ø–æ–¥–æ–±–Ω—ã–π)                         ‚îÇ
‚îÇ  - 8 –≥—Ä—É–ø–ø –ø–æ —Ä–æ–ª—è–º                                     ‚îÇ
‚îÇ  - AI —Å–µ—Ä–≤–∏—Å—ã (5 endpoints)                             ‚îÇ
‚îÇ  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Weather, Maps, Payments)                ‚îÇ
‚îÇ  - Webhooks (CloudPayments, Telegram)                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 BUSINESS LOGIC LAYER                    ‚îÇ
‚îÇ  lib/ (86 —Ñ–∞–π–ª–æ–≤ TypeScript)                            ‚îÇ
‚îÇ  - AI (role-assistants, prompts)                        ‚îÇ
‚îÇ  - Auth (JWT, role-based)                               ‚îÇ
‚îÇ  - Payments (CloudPayments)                             ‚îÇ
‚îÇ  - Weather (Yandex API)                                 ‚îÇ
‚îÇ  - Maps (Yandex Maps)                                   ‚îÇ
‚îÇ  - Notifications (Email, Telegram)                      ‚îÇ
‚îÇ  - Loyalty (Eco-points)                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  DATA LAYER                             ‚îÇ
‚îÇ  PostgreSQL + PostGIS                                   ‚îÇ
‚îÇ  - 30+ —Ç–∞–±–ª–∏—Ü                                           ‚îÇ
‚îÇ  - 16 –º–∏–≥—Ä–∞—Ü–∏–π                                          ‚îÇ
‚îÇ  - –ì–µ–æ–¥–∞–Ω–Ω—ã–µ (coordinates, PostGIS)                     ‚îÇ
‚îÇ  - JSONB –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              EXTERNAL SERVICES                          ‚îÇ
‚îÇ  - Groq AI (Llama 3.1) - AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç                  ‚îÇ
‚îÇ  - DeepSeek AI - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π AI                     ‚îÇ
‚îÇ  - –Ø–Ω–¥–µ–∫—Å Weather API - –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã                 ‚îÇ
‚îÇ  - –Ø–Ω–¥–µ–∫—Å Maps API - –ö–∞—Ä—Ç—ã –∏ –≥–µ–æ–∫–æ–¥–∏–Ω–≥                 ‚îÇ
‚îÇ  - CloudPayments - –ü–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑                      ‚îÇ
‚îÇ  - AWS S3 - –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤                            ‚îÇ
‚îÇ  - Nodemailer - Email —Ä–∞—Å—Å—ã–ª–∫–∏                         ‚îÇ
‚îÇ  - Sentry - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫                          ‚îÇ
‚îÇ  - Telegram Bot API - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä –î–ï–¢–ê–õ–¨–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –†–∞–∑–º–µ—Ä—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –î–µ—Ç–∞–ª–∏ |
|---------|----------|--------|
| **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä** | 41.4 MB | GitHub repo size |
| **TypeScript –∫–æ–¥** | 3.6 MB | 89% –æ—Ç –∫–æ–¥–∞ |
| **SQL –∫–æ–¥** | 247 KB | 6% (PLpgSQL) |
| **CSS** | 181 KB | 4% |
| **TypeScript —Ñ–∞–π–ª–æ–≤** | 619 | .ts + .tsx |
| **API routes** | 215 | route.ts —Ñ–∞–π–ª–æ–≤ |
| **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** | 108 | .tsx –≤ components/ |
| **–°—Ç—Ä–∞–Ω–∏—Ü** | 91 | –£—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è |
| **–î–æ–∫—É–º–µ–Ω—Ç–æ–≤** | 161 | –í docs/ |
| **–ú–∏–≥—Ä–∞—Ü–∏–π –ë–î** | 16 | SQL –º–∏–≥—Ä–∞—Ü–∏–∏ |
| **–¢–µ—Å—Ç–æ–≤** | 50+ | Unit + Integration + E2E |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞** | ~50,000+ | –û—Ü–µ–Ω–∫–∞ |

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —è–∑—ã–∫–∞–º

```
TypeScript:  3,805,634 bytes  (89.0%)  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
PLpgSQL:       252,931 bytes  (5.9%)   ‚ñà‚ñà
CSS:           185,546 bytes  (4.3%)   ‚ñà
Shell:          39,404 bytes  (0.9%)   
JavaScript:     31,264 bytes  (0.7%)   
HTML:           13,098 bytes  (0.3%)   
Dockerfile:      1,266 bytes  (0.0%)   
```

---

## üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–• (PostgreSQL + PostGIS)

### –†–∞—Å—à–∏—Ä–µ–Ω–∏—è PostgreSQL

```sql
CREATE EXTENSION "uuid-ossp";    -- UUID –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
CREATE EXTENSION "postgis";      -- –ì–µ–æ–¥–∞–Ω–Ω—ã–µ
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã (30+)

#### 1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏**

```sql
users (8 —Ä–æ–ª–µ–π)
‚îú‚îÄ id UUID
‚îú‚îÄ email VARCHAR(255) UNIQUE
‚îú‚îÄ name VARCHAR(255)
‚îú‚îÄ password_hash VARCHAR(255)
‚îú‚îÄ role VARCHAR(50) CHECK IN:
‚îÇ    ('tourist', 'operator', 'guide', 'transfer',
‚îÇ     'stay', 'gear', 'agent', 'admin')
‚îú‚îÄ preferences JSONB
‚îî‚îÄ created_at, updated_at

partners (9 –∫–∞—Ç–µ–≥–æ—Ä–∏–π)
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID ‚Üí users
‚îú‚îÄ name VARCHAR(255)
‚îú‚îÄ category VARCHAR(50) CHECK IN:
‚îÇ    ('operator', 'guide', 'transfer', 'stay',
‚îÇ     'gear', 'agent', 'souvenir', 'cars', 'restaurant')
‚îú‚îÄ description TEXT
‚îú‚îÄ contact JSONB
‚îú‚îÄ rating DECIMAL(3,2)
‚îú‚îÄ review_count INTEGER
‚îú‚îÄ is_verified BOOLEAN
‚îî‚îÄ logo_asset_id UUID
```

#### 2. **–¢—É—Ä—ã –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**

```sql
tours
‚îú‚îÄ id UUID
‚îú‚îÄ name VARCHAR(255)
‚îú‚îÄ description TEXT
‚îú‚îÄ short_description TEXT
‚îú‚îÄ category VARCHAR(50)
‚îú‚îÄ difficulty VARCHAR(20) CHECK ('easy', 'medium', 'hard')
‚îú‚îÄ duration INTEGER  -- —á–∞—Å—ã
‚îú‚îÄ price DECIMAL(10,2)
‚îú‚îÄ currency VARCHAR(3) DEFAULT 'RUB'
‚îú‚îÄ season JSONB  -- –º–∞—Å—Å–∏–≤ —Å–µ–∑–æ–Ω–æ–≤
‚îú‚îÄ coordinates JSONB  -- –º–∞—Å—Å–∏–≤ —Ç–æ—á–µ–∫ GPS
‚îú‚îÄ requirements JSONB
‚îú‚îÄ included JSONB
‚îú‚îÄ not_included JSONB
‚îú‚îÄ operator_id UUID ‚Üí partners
‚îú‚îÄ guide_id UUID ‚Üí partners
‚îú‚îÄ max_group_size, min_group_size INTEGER
‚îú‚îÄ rating DECIMAL(3,2)
‚îú‚îÄ review_count INTEGER
‚îî‚îÄ is_active BOOLEAN

activities (—Å—Ç–∞—Ä–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
‚îú‚îÄ id UUID
‚îú‚îÄ key TEXT UNIQUE
‚îú‚îÄ title TEXT
‚îú‚îÄ icon_bytes BYTEA  -- –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∫–æ–Ω–æ–∫
‚îú‚îÄ icon_mime TEXT
‚îî‚îÄ icon_sha256, icon_url
```

#### 3. **–ú–µ–¥–∏–∞ –∏ –∞—Å—Å–µ—Ç—ã**

```sql
assets
‚îú‚îÄ id UUID
‚îú‚îÄ url TEXT
‚îú‚îÄ mime_type VARCHAR(100)
‚îú‚îÄ sha256 VARCHAR(64) UNIQUE  -- –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
‚îú‚îÄ size BIGINT
‚îú‚îÄ width, height INTEGER
‚îî‚îÄ alt TEXT

tour_assets (many-to-many)
‚îú‚îÄ tour_id UUID ‚Üí tours
‚îî‚îÄ asset_id UUID ‚Üí assets

partner_assets
‚îú‚îÄ partner_id UUID ‚Üí partners
‚îî‚îÄ asset_id UUID ‚Üí assets

review_assets
‚îú‚îÄ review_id UUID ‚Üí reviews
‚îî‚îÄ asset_id UUID ‚Üí assets
```

#### 4. **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**

```sql
bookings
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID ‚Üí users
‚îú‚îÄ tour_id UUID ‚Üí tours
‚îú‚îÄ date DATE
‚îú‚îÄ start_date DATE
‚îú‚îÄ participants INTEGER
‚îú‚îÄ guests_count INTEGER
‚îú‚îÄ total_price DECIMAL(10,2)
‚îú‚îÄ status CHECK ('pending', 'confirmed', 'cancelled', 'completed')
‚îú‚îÄ payment_status CHECK ('pending', 'paid', 'refunded')
‚îú‚îÄ special_requests TEXT
‚îî‚îÄ created_at, updated_at
```

#### 5. **–û—Ç–∑—ã–≤—ã**

```sql
reviews
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID ‚Üí users
‚îú‚îÄ tour_id UUID ‚Üí tours
‚îú‚îÄ rating INTEGER CHECK (1-5)
‚îú‚îÄ comment TEXT
‚îú‚îÄ is_verified BOOLEAN
‚îú‚îÄ operator_reply TEXT
‚îú‚îÄ operator_reply_at TIMESTAMPTZ
‚îî‚îÄ created_at, updated_at
```

#### 6. **Eco-Points —Å–∏—Å—Ç–µ–º–∞**

```sql
eco_points (–ª–æ–∫–∞—Ü–∏–∏)
‚îú‚îÄ id UUID
‚îú‚îÄ name VARCHAR(255)
‚îú‚îÄ description TEXT
‚îú‚îÄ coordinates JSONB  -- {lat, lng, address, name}
‚îú‚îÄ category CHECK ('recycling', 'cleaning', 'conservation', 'education')
‚îú‚îÄ points INTEGER
‚îî‚îÄ is_active BOOLEAN

user_eco_points
‚îú‚îÄ user_id UUID PRIMARY KEY
‚îú‚îÄ total_points INTEGER
‚îú‚îÄ level INTEGER
‚îî‚îÄ last_activity TIMESTAMPTZ

eco_achievements
‚îú‚îÄ id UUID
‚îú‚îÄ name, description
‚îî‚îÄ points INTEGER

user_achievements
‚îú‚îÄ user_id UUID
‚îú‚îÄ achievement_id UUID
‚îî‚îÄ unlocked_at TIMESTAMPTZ

user_eco_activities (–∏—Å—Ç–æ—Ä–∏—è)
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID
‚îú‚îÄ points INTEGER
‚îú‚îÄ activity VARCHAR(255)
‚îî‚îÄ eco_point_id UUID
```

#### 7. **–ì–∏–¥—ã**

```sql
guide_schedule
‚îú‚îÄ id UUID
‚îú‚îÄ guide_id UUID ‚Üí users
‚îú‚îÄ tour_id UUID ‚Üí tours
‚îú‚îÄ tour_date DATE
‚îú‚îÄ start_time, end_time TIME
‚îú‚îÄ meeting_point VARCHAR(500)
‚îú‚îÄ participants_count INTEGER
‚îî‚îÄ status, notes

guide_earnings
‚îú‚îÄ id UUID
‚îú‚îÄ guide_id UUID
‚îú‚îÄ booking_id UUID
‚îú‚îÄ amount DECIMAL(10,2)
‚îú‚îÄ currency VARCHAR(3)
‚îú‚îÄ payout_status
‚îî‚îÄ payout_date

guide_groups
‚îú‚îÄ id UUID
‚îú‚îÄ guide_id UUID
‚îú‚îÄ schedule_id UUID
‚îú‚îÄ group_name VARCHAR(255)
‚îî‚îÄ participants JSONB[]
```

#### 8. **–¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã**

```sql
transfer_vehicles
‚îú‚îÄ id UUID
‚îú‚îÄ operator_id UUID ‚Üí partners
‚îú‚îÄ vehicle_type CHECK ('car', 'minibus', 'bus', 'helicopter')
‚îú‚îÄ brand, model VARCHAR(100)
‚îú‚îÄ capacity INTEGER
‚îú‚îÄ license_plate VARCHAR(20) UNIQUE
‚îú‚îÄ features JSONB
‚îî‚îÄ is_active BOOLEAN

transfer_drivers
‚îú‚îÄ id UUID
‚îú‚îÄ operator_id UUID
‚îú‚îÄ full_name VARCHAR(255)
‚îú‚îÄ license_number VARCHAR(50)
‚îú‚îÄ phone VARCHAR(20)
‚îî‚îÄ is_active BOOLEAN

transfer_routes
‚îú‚îÄ id UUID
‚îú‚îÄ from_point VARCHAR(255)
‚îú‚îÄ to_point VARCHAR(255)
‚îú‚îÄ distance DECIMAL(10,2)
‚îú‚îÄ duration INTEGER
‚îî‚îÄ price_per_person DECIMAL(10,2)

transfer_bookings
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID
‚îú‚îÄ route_id UUID
‚îú‚îÄ vehicle_id UUID
‚îú‚îÄ driver_id UUID
‚îú‚îÄ pickup_time TIMESTAMPTZ
‚îú‚îÄ passengers INTEGER
‚îî‚îÄ status, payment_status

transfer_schedules
‚îú‚îÄ id UUID
‚îú‚îÄ route_id UUID
‚îú‚îÄ vehicle_id UUID
‚îú‚îÄ driver_id UUID
‚îú‚îÄ departure_time TIME
‚îî‚îÄ available_seats INTEGER
```

#### 9. **–ê–≥–µ–Ω—Ç—ã –∏ –∫–æ–º–∏—Å—Å–∏–∏**

```sql
agent_clients
‚îú‚îÄ id UUID
‚îú‚îÄ agent_id UUID ‚Üí partners
‚îú‚îÄ name VARCHAR(255)
‚îú‚îÄ contact JSONB
‚îî‚îÄ total_bookings INTEGER

agent_vouchers
‚îú‚îÄ id UUID
‚îú‚îÄ agent_id UUID
‚îú‚îÄ code VARCHAR(20) UNIQUE
‚îú‚îÄ discount_percent DECIMAL(5,2)
‚îú‚îÄ expires_at DATE
‚îî‚îÄ is_active BOOLEAN

agent_commissions
‚îú‚îÄ id UUID
‚îú‚îÄ agent_id UUID
‚îú‚îÄ booking_id UUID
‚îú‚îÄ amount DECIMAL(10,2)
‚îú‚îÄ status CHECK ('pending', 'approved', 'paid')
‚îî‚îÄ paid_at TIMESTAMPTZ

agent_payouts
‚îú‚îÄ id UUID
‚îú‚îÄ agent_id UUID
‚îú‚îÄ amount DECIMAL(10,2)
‚îú‚îÄ method VARCHAR(50)
‚îî‚îÄ status, created_at
```

#### 10. **–†–∞–∑–º–µ—â–µ–Ω–∏–µ**

```sql
accommodations
‚îú‚îÄ id UUID
‚îú‚îÄ provider_id UUID ‚Üí partners
‚îú‚îÄ name VARCHAR(255)
‚îú‚îÄ type CHECK ('hotel', 'hostel', 'apartment', 'guesthouse')
‚îú‚îÄ address TEXT
‚îú‚îÄ coordinates JSONB
‚îú‚îÄ amenities JSONB
‚îú‚îÄ rooms JSONB[]
‚îú‚îÄ price_per_night DECIMAL(10,2)
‚îî‚îÄ is_active BOOLEAN

accommodation_bookings
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID
‚îú‚îÄ accommodation_id UUID
‚îú‚îÄ check_in, check_out DATE
‚îú‚îÄ guests INTEGER
‚îî‚îÄ total_price, status
```

#### 11. **–°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ**

```sql
gear_items
‚îú‚îÄ id UUID
‚îú‚îÄ provider_id UUID ‚Üí partners
‚îú‚îÄ name VARCHAR(255)
‚îú‚îÄ category VARCHAR(50)
‚îú‚îÄ price_per_day DECIMAL(10,2)
‚îú‚îÄ quantity_available INTEGER
‚îî‚îÄ condition VARCHAR(20)

gear_rentals
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID
‚îú‚îÄ gear_id UUID
‚îú‚îÄ rental_date, return_date DATE
‚îú‚îÄ total_price DECIMAL(10,2)
‚îî‚îÄ status, deposit_amount
```

#### 12. **–ê–≤—Ç–æ–º–æ–±–∏–ª–∏**

```sql
cars
‚îú‚îÄ id UUID
‚îú‚îÄ provider_id UUID
‚îú‚îÄ brand, model VARCHAR(100)
‚îú‚îÄ year INTEGER
‚îú‚îÄ transmission CHECK ('auto', 'manual')
‚îú‚îÄ fuel_type VARCHAR(20)
‚îú‚îÄ price_per_day DECIMAL(10,2)
‚îî‚îÄ features JSONB

car_rentals
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID
‚îú‚îÄ car_id UUID
‚îú‚îÄ pickup_date, return_date DATE
‚îî‚îÄ total_price, status
```

#### 13. **–°—É–≤–µ–Ω–∏—Ä—ã**

```sql
souvenirs
‚îú‚îÄ id UUID
‚îú‚îÄ shop_id UUID ‚Üí partners
‚îú‚îÄ name VARCHAR(255)
‚îú‚îÄ category VARCHAR(50)
‚îú‚îÄ price DECIMAL(10,2)
‚îú‚îÄ stock INTEGER
‚îî‚îÄ is_available BOOLEAN

souvenir_orders
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID
‚îú‚îÄ items JSONB[]
‚îú‚îÄ total_amount DECIMAL(10,2)
‚îî‚îÄ delivery_address, status
```

#### 14. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**

```sql
support_tickets
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID
‚îú‚îÄ subject VARCHAR(255)
‚îú‚îÄ description TEXT
‚îú‚îÄ priority CHECK ('low', 'medium', 'high', 'urgent')
‚îú‚îÄ status CHECK ('open', 'in_progress', 'resolved', 'closed')
‚îî‚îÄ assigned_to UUID

support_messages
‚îú‚îÄ id UUID
‚îú‚îÄ ticket_id UUID
‚îú‚îÄ author_id UUID
‚îú‚îÄ message TEXT
‚îî‚îÄ created_at
```

#### 15. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**

```sql
notifications
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID
‚îú‚îÄ type VARCHAR(50)
‚îú‚îÄ title VARCHAR(255)
‚îú‚îÄ message TEXT
‚îú‚îÄ data JSONB
‚îú‚îÄ is_read BOOLEAN
‚îî‚îÄ created_at
```

#### 16. **Wishlist (–∏–∑–±—Ä–∞–Ω–Ω–æ–µ)**

```sql
wishlist
‚îú‚îÄ id UUID
‚îú‚îÄ user_id UUID
‚îî‚îÄ created_at

wishlist_items
‚îú‚îÄ wishlist_id UUID
‚îú‚îÄ tour_id UUID
‚îî‚îÄ added_at
```

### –ò—Ç–æ–≥–æ —Ç–∞–±–ª–∏—Ü: **30+ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü**

---

## üîå API ENDPOINTS (215 —à—Ç—É–∫!)

### –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É

#### AUTH (7 endpoints)
```
POST   /api/auth/login
POST   /api/auth/register
POST   /api/auth/signin
POST   /api/auth/signup
POST   /api/auth/signout
GET    /api/auth/me
POST   /api/auth/demo
```

#### DISCOVERY - –ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ (8)
```
GET    /api/discovery/tours
GET    /api/discovery/tours/[id]
GET    /api/discovery/tours/[id]/stats
POST   /api/discovery/tours/[id]/publish
POST   /api/discovery/search
POST   /api/discovery/search/recommendations
GET    /api/discovery/reviews
GET    /api/discovery/reviews/[id]
```

#### BOOKINGS - –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (10)
```
GET    /api/bookings
POST   /api/bookings
GET    /api/bookings/my
GET    /api/bookings/[id]
PUT    /api/bookings/[id]
DELETE /api/bookings/[id]
POST   /api/bookings/[id]/cancel
GET    /api/bookings/availability
GET    /api/bookings/availability/calendar
POST   /api/bookings/payments
POST   /api/bookings/payments/[id]/refund
```

#### OPERATOR - CRM —Ç—É—Ä–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (18)
```
GET    /api/operator/dashboard
GET    /api/operator/profile
PUT    /api/operator/profile
GET    /api/operator/profile/settings

GET    /api/operator/tours
POST   /api/operator/tours
GET    /api/operator/tours/[id]
PUT    /api/operator/tours/[id]
DELETE /api/operator/tours/[id]
POST   /api/operator/tours/[id]/publish
POST   /api/operator/tours/[id]/deactivate
GET    /api/operator/tours/schedules

GET    /api/operator/tours/[id]/photos
POST   /api/operator/tours/[id]/photos
DELETE /api/operator/tours/[id]/photos/[photoId]

GET    /api/operator/bookings
GET    /api/operator/bookings/[id]
PUT    /api/operator/bookings/[id]

GET    /api/operator/calendar
POST   /api/operator/calendar/block

GET    /api/operator/reviews
GET    /api/operator/reviews/stats
POST   /api/operator/reviews/[id]/reply

GET    /api/operator/messages

GET    /api/operator/stats
GET    /api/operator/analytics/dashboard
GET    /api/operator/finance
GET    /api/operator/reports/revenue
GET    /api/operator/reports/bookings

GET    /api/operator/templates
```

#### GUIDE - –ì–∏–¥ (8)
```
GET    /api/guide/profile
PUT    /api/guide/profile

GET    /api/guide/schedule
POST   /api/guide/schedule
PUT    /api/guide/schedule/[id]

GET    /api/guide/groups
GET    /api/guide/earnings

GET    /api/guide/reviews
POST   /api/guide/reviews/[id]/reply

GET    /api/guide/map
```

#### TRANSFER OPERATOR - –¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã (20)
```
GET    /api/transfer/profile
PUT    /api/transfer/profile

GET    /api/transfer/vehicles
POST   /api/transfer/vehicles
GET    /api/transfer/vehicles/[id]
PUT    /api/transfer/vehicles/[id]
DELETE /api/transfer/vehicles/[id]
GET    /api/transfer/vehicles/[id]/documents

GET    /api/transfer/drivers
POST   /api/transfer/drivers
GET    /api/transfer/drivers/[id]
PUT    /api/transfer/drivers/[id]
DELETE /api/transfer/drivers/[id]
GET    /api/transfer/drivers/[id]/documents

GET    /api/transfer/bookings
POST   /api/transfer/bookings

GET    /api/transfer/transfers
POST   /api/transfer/transfers
GET    /api/transfer/transfers/[id]
PUT    /api/transfer/transfers/[id]

GET    /api/transfer/routes
POST   /api/transfer/routes

GET    /api/transfer/schedule
GET    /api/transfer/stats
GET    /api/transfer/analytics/dashboard
GET    /api/transfer/reports/revenue

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ transfer-operator
GET    /api/transfer-operator/dashboard
GET    /api/transfer-operator/vehicles
GET    /api/transfer-operator/drivers/[id]
GET    /api/transfer-operator/drivers/[id]/documents
GET    /api/transfer-operator/transfers

# –ü—É–±–ª–∏—á–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä—ã
GET    /api/transfers
POST   /api/transfers/search
GET    /api/transfers/availability
POST   /api/transfers/book
POST   /api/transfers/confirm
GET    /api/transfers/[routeId]/schedules
POST   /api/transfers/payment/confirm
GET    /api/transfers/operator/dashboard
```

#### AGENT - –ê–≥–µ–Ω—Ç—ã (8)
```
GET    /api/agent/dashboard
GET    /api/agent/clients
POST   /api/agent/clients
GET    /api/agent/tours
GET    /api/agent/bookings
POST   /api/agent/bookings
GET    /api/agent/vouchers
POST   /api/agent/vouchers
GET    /api/agent/commissions
GET    /api/agent/commissions/payouts
POST   /api/agent/commissions/request-payout
```

#### ADMIN - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (18)
```
GET    /api/admin/dashboard
GET    /api/admin/stats

GET    /api/admin/users
POST   /api/admin/users
GET    /api/admin/users/[id]
PUT    /api/admin/users/[id]

GET    /api/admin/tours
GET    /api/admin/bookings

GET    /api/admin/content/tours
GET    /api/admin/content/tours/[id]
PUT    /api/admin/content/tours/[id]

GET    /api/admin/content/partners
PUT    /api/admin/content/partners/[id]/verify

GET    /api/admin/content/reviews
PUT    /api/admin/content/reviews/[id]/moderate

POST   /api/admin/operators/verify

GET    /api/admin/finance
GET    /api/admin/finance/payouts

GET    /api/admin/settings
PUT    /api/admin/settings
GET    /api/admin/settings/email-templates
GET    /api/admin/settings/email-templates/[id]
```

#### TOURIST - –¢—É—Ä–∏—Å—Ç (7)
```
GET    /api/tourist/profile
PUT    /api/tourist/profile
GET    /api/tourist/trips
GET    /api/tourist/wishlist
GET    /api/tourist/stats
GET    /api/tourist/achievements
GET    /api/tourist/checklists
GET    /api/tourist/documents
```

#### AI SERVICES (5)
```
POST   /api/ai                  # –û–±—â–∏–π AI —á–∞—Ç
POST   /api/ai/groq             # Groq AI (Llama 3.1)
POST   /api/ai/deepseek         # DeepSeek AI
POST   /api/ai/smart-search     # –£–º–Ω—ã–π –ø–æ–∏—Å–∫ —Ç—É—Ä–æ–≤
GET    /api/ai/knowledge-base   # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
```

#### PAYMENTS (6)
```
POST   /api/payments/create
GET    /api/payments/[id]/status
POST   /api/payments/webhook
POST   /api/webhooks/cloudpayments
POST   /api/webhooks/payments
POST   /api/webhook
```

#### ACCOMMODATIONS - –†–∞–∑–º–µ—â–µ–Ω–∏–µ (7)
```
GET    /api/accommodations
POST   /api/accommodations/create
GET    /api/accommodations/[id]
PUT    /api/accommodations/[id]
GET    /api/accommodations/[id]/availability
POST   /api/accommodations/[id]/book
GET    /api/accommodations/[id]/blocked-dates
GET    /api/accommodations/[id]/prices
```

#### GEAR - –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ (5)
```
GET    /api/gear
GET    /api/gear/route
GET    /api/gear/items
GET    /api/gear/rentals
GET    /api/gear/stats
GET    /api/gear/profile
```

#### CARS - –ü—Ä–æ–∫–∞—Ç –∞–≤—Ç–æ (5)
```
GET    /api/cars
GET    /api/cars/items
GET    /api/cars/items/[id]
GET    /api/cars/rentals
GET    /api/cars/stats
GET    /api/cars/profile
```

#### SOUVENIRS - –°—É–≤–µ–Ω–∏—Ä—ã (7)
```
GET    /api/souvenirs
GET    /api/souvenirs/[id]
GET    /api/souvenirs/items
GET    /api/souvenirs/items/[id]
GET    /api/souvenirs/orders
GET    /api/souvenirs/stats
GET    /api/souvenirs/profile
```

#### ENGAGEMENT - –í–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å (11)
```
GET    /api/engagement/conversations
POST   /api/engagement/conversations

GET    /api/engagement/messages
POST   /api/engagement/messages
GET    /api/engagement/messages/[id]
PUT    /api/engagement/messages/[id]

GET    /api/engagement/notifications
POST   /api/engagement/notifications
GET    /api/engagement/notifications/[id]
GET    /api/engagement/notifications/preferences
POST   /api/engagement/notifications/mark-all-read

GET    /api/engagement/wishlist
GET    /api/engagement/wishlist/[id]
DELETE /api/engagement/wishlist/[id]
GET    /api/engagement/wishlist/[id]/items
POST   /api/engagement/wishlist/[id]/items
```

#### ECO-POINTS (2)
```
GET    /api/eco-points
POST   /api/eco-points
GET    /api/eco-points/user
```

#### LOYALTY - –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ (3)
```
GET    /api/loyalty/levels
POST   /api/loyalty/promo/apply
GET    /api/loyalty/stats
```

#### SUPPORT - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ (10)
```
GET    /api/support/tickets
POST   /api/support/tickets
GET    /api/support/tickets/[id]
PUT    /api/support/tickets/[id]
GET    /api/support/tickets/[id]/messages

GET    /api/support/knowledge-base
GET    /api/support/agents
POST   /api/support/feedback
GET    /api/support/sla
```

#### ANALYTICS - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (3)
```
GET    /api/analytics/dashboards
GET    /api/analytics/metrics
GET    /api/analytics/reports
```

#### PARTNERS - –ü–∞—Ä—Ç–Ω—ë—Ä—ã (9)
```
GET    /api/partners
POST   /api/partners/register

GET    /api/partner/list
GET    /api/partner/[id]
POST   /api/partner/[id]/activate

GET    /api/partner/commissions
GET    /api/partner/payouts
POST   /api/partner/payout/[id]/process

GET    /api/partners/kamchatka-fishing
GET    /api/partners/kamchatka-fishing/tours
GET    /api/partners/kamchatka-fishing/bookings
```

#### NOTIFICATIONS (5)
```
GET    /api/notifications
POST   /api/notifications/send
GET    /api/notifications/[id]
POST   /api/notifications/mark-all-read
POST   /api/notifications/tour-reminders
```

#### REVIEWS (2)
```
GET    /api/reviews
POST   /api/reviews
GET    /api/reviews/tour/[tourId]
```

#### TOURS - –ü—É–±–ª–∏—á–Ω—ã–µ —Ç—É—Ä—ã (5)
```
GET    /api/tours
POST   /api/tours/create
GET    /api/tours/[id]
GET    /api/tours/[id]/availability
POST   /api/tours/[id]/book
GET    /api/tours/[id]/time-slots
```

#### UTILITY (11)
```
GET    /api/health
GET    /api/health/db
GET    /api/ping
GET    /api/csrf-token
GET    /api/roles
GET    /api/weather
GET    /api/geocode
POST   /api/upload
POST   /api/import/asset
POST   /api/trip/plan
POST   /api/chat
GET    /api/cart
POST   /api/telegram/check
GET    /api/monitoring/logs
```

### –ò—Ç–æ–≥–æ: **215 API endpoints**

---

## üß© –ö–û–ú–ü–û–ù–ï–ù–¢–´ (108 —Ñ–∞–π–ª–æ–≤)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ components/

```
components/
‚îú‚îÄ admin/              # –ê–¥–º–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ  ‚îî‚îÄ Moderation, Stats, Settings
‚îÇ
‚îú‚îÄ operator/           # CRM –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
‚îÇ  ‚îî‚îÄ TourManager, BookingList, Analytics
‚îÇ
‚îú‚îÄ tourist/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—É—Ä–∏—Å—Ç–∞
‚îÇ  ‚îî‚îÄ TouristNav, TripHistory, Wishlist
‚îÇ
‚îú‚îÄ guide/              # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–∏–¥–∞
‚îÇ  ‚îî‚îÄ Schedule, Groups, Earnings
‚îÇ
‚îú‚îÄ transfer-operator/  # –¢—Ä–∞–Ω—Å—Ñ–µ—Ä –æ–ø–µ—Ä–∞—Ç–æ—Ä
‚îÇ  ‚îî‚îÄ VehicleList, DriverManager, Routes
‚îÇ
‚îú‚îÄ agent/              # –ê–≥–µ–Ω—Ç
‚îÇ  ‚îî‚îÄ ClientList, Vouchers, Commissions
‚îÇ
‚îú‚îÄ ai/                 # AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ  ‚îî‚îÄ AIChatWidget.tsx
‚îÇ  ‚îî‚îÄ AISmartSearch.tsx
‚îÇ  ‚îî‚îÄ RoleAssistantWidget.tsx
‚îÇ
‚îú‚îÄ booking/            # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ  ‚îî‚îÄ BookingForm, Calendar, Confirmation
‚îÇ
‚îú‚îÄ payments/           # –ü–ª–∞—Ç–µ–∂–∏
‚îÇ  ‚îî‚îÄ PaymentForm, CloudPayments integration
‚îÇ
‚îú‚îÄ reviews/            # –û—Ç–∑—ã–≤—ã
‚îÇ  ‚îî‚îÄ ReviewForm, ReviewList, Rating
‚îÇ
‚îú‚îÄ shared/             # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ  ‚îî‚îÄ Button, Card, Modal, Input, etc.
‚îÇ
‚îú‚îÄ icons/              # –ò–∫–æ–Ω–∫–∏ (Lucide React)
‚îÇ  ‚îî‚îÄ ActivityIcon, WeatherIcon, etc.
‚îÇ
‚îî‚îÄ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ:
   ‚îú‚îÄ WeatherWidget.tsx
   ‚îú‚îÄ YandexMap.tsx
   ‚îú‚îÄ TransferMap.tsx
   ‚îú‚îÄ TransferSearchWidget.tsx
   ‚îú‚îÄ MapPanel.tsx
   ‚îú‚îÄ EcoPointsWidget.tsx
   ‚îú‚îÄ LoyaltyWidget.tsx
   ‚îú‚îÄ SamsungWeatherDynamic.tsx
   ‚îú‚îÄ ThemeToggle.tsx
   ‚îî‚îÄ FloatingNav.tsx
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**AI Integration:**
```typescript
AIChatWidget.tsx          - –ß–∞—Ç-–±–æ—Ç —Å Groq/DeepSeek
AISmartSearch.tsx         - –£–º–Ω—ã–π –ø–æ–∏—Å–∫ —Ç—É—Ä–æ–≤
RoleAssistantWidget.tsx   - –ü–æ–º–æ—â–Ω–∏–∫ –ø–æ —Ä–æ–ª—è–º
FloatingAIButton.tsx      - –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ AI
```

**Weather:**
```typescript
WeatherWidget.tsx         - –í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã
SamsungWeatherDynamic.tsx - –°—Ç–∏–ª—å Samsung Weather
WeatherBackground.tsx     - –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω
```

**Maps:**
```typescript
YandexMap.tsx             - –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã
TransferMap.tsx           - –ö–∞—Ä—Ç–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤
MapPanel.tsx              - –ü–∞–Ω–µ–ª—å –∫–∞—Ä—Ç—ã
```

**Navigation:**
```typescript
FloatingNav.tsx           - Floating –Ω–∞–≤–∏–≥–∞—Ü–∏—è
TouristNav.tsx            - –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ç—É—Ä–∏—Å—Ç–∞
```

**Cards:**
```typescript
TourCard.tsx              - –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç—É—Ä–∞
PartnerCard.tsx           - –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞
AccommodationCard.tsx     - –ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
```

---

## üì± –°–¢–†–ê–ù–ò–¶–´ (91 —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

### app/ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
app/
‚îú‚îÄ page.tsx                      # –ì–ª–∞–≤–Ω–∞—è
‚îú‚îÄ layout.tsx                    # Root layout
‚îÇ
‚îú‚îÄ auth/                         # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ  ‚îú‚îÄ login/
‚îÇ  ‚îú‚îÄ register/
‚îÇ  ‚îî‚îÄ demo/
‚îÇ
‚îú‚îÄ hub/                          # Dashboards (15 —Ä–æ–ª–µ–π!)
‚îÇ  ‚îú‚îÄ tourist/                   # Dashboard —Ç—É—Ä–∏—Å—Ç–∞
‚îÇ  ‚îú‚îÄ operator/                  # CRM –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
‚îÇ  ‚îú‚îÄ guide/                     # Dashboard –≥–∏–¥–∞
‚îÇ  ‚îú‚îÄ transfer-operator/         # –¢—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä
‚îÇ  ‚îú‚îÄ agent/                     # –ê–≥–µ–Ω—Ç
‚îÇ  ‚îú‚îÄ admin/                     # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
‚îÇ  ‚îú‚îÄ gear/                      # –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ
‚îÇ  ‚îú‚îÄ gear-provider/             # –ü–æ—Å—Ç–∞–≤—â–∏–∫ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è
‚îÇ  ‚îú‚îÄ cars/                      # –ü—Ä–æ–∫–∞—Ç –∞–≤—Ç–æ
‚îÇ  ‚îú‚îÄ souvenirs/                 # –°—É–≤–µ–Ω–∏—Ä—ã
‚îÇ  ‚îú‚îÄ stay/                      # –†–∞–∑–º–µ—â–µ–Ω–∏–µ (—Ç—É—Ä–∏—Å—Ç)
‚îÇ  ‚îú‚îÄ stay-provider/             # –ü—Ä–æ–≤–∞–π–¥–µ—Ä –∂–∏–ª—å—è
‚îÇ  ‚îú‚îÄ transfer/                  # –¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã (—Ç—É—Ä–∏—Å—Ç)
‚îÇ  ‚îú‚îÄ safety/                    # –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îÇ  ‚îî‚îÄ tours/                     # –û–±—â–∏–π –∫–∞—Ç–∞–ª–æ–≥
‚îÇ
‚îú‚îÄ tours/                        # –ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥
‚îÇ  ‚îú‚îÄ page.tsx                   # –°–ø–∏—Å–æ–∫ —Ç—É—Ä–æ–≤
‚îÇ  ‚îú‚îÄ [id]/                      # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—É—Ä–∞
‚îÇ  ‚îú‚îÄ search/                    # –ü–æ–∏—Å–∫
‚îÇ  ‚îî‚îÄ create/                    # –°–æ–∑–¥–∞–Ω–∏–µ (operator)
‚îÇ
‚îú‚îÄ search/                       # –£–º–Ω—ã–π –ø–æ–∏—Å–∫
‚îú‚îÄ map/                          # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞
‚îú‚îÄ profile/                      # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ accommodations/               # –†–∞–∑–º–µ—â–µ–Ω–∏–µ
‚îú‚îÄ gear/                         # –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ
‚îú‚îÄ cars/                         # –ü—Ä–æ–∫–∞—Ç –∞–≤—Ç–æ
‚îú‚îÄ shop/                         # –°—É–≤–µ–Ω–∏—Ä—ã
‚îÇ
‚îú‚îÄ admin/                        # –ê–¥–º–∏–Ω–∫–∞
‚îÇ  ‚îú‚îÄ dashboard/
‚îÇ  ‚îú‚îÄ users/
‚îÇ  ‚îú‚îÄ partners/
‚îÇ  ‚îú‚îÄ moderation/
‚îÇ  ‚îî‚îÄ settings/
‚îÇ
‚îú‚îÄ partner/                      # –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è –ø–∞–Ω–µ–ª—å (—É—Å—Ç–∞—Ä–µ–≤—à–µ–µ?)
‚îú‚îÄ legal/                        # –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ demo/                         # –î–µ–º–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ test/                         # –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îî‚îÄ ui-demo/                      # UI –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
```

### Hub Dashboards –¥–µ—Ç–∞–ª—å–Ω–æ

**1. Tourist Dashboard:**
- –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –ò—Å—Ç–æ—Ä–∏—è –ø–æ–µ–∑–¥–æ–∫
- –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç—É—Ä—ã (wishlist)
- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (achievements)
- Eco-points –±–∞–ª–∞–Ω—Å
- AI-–ø–æ–º–æ—â–Ω–∏–∫
- –ü–æ–≥–æ–¥–∞ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–µ
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ß–µ–∫–ª–∏—Å—Ç—ã

**2. Operator Dashboard:**
- –û–±–∑–æ—Ä –±–∏–∑–Ω–µ—Å–∞
- –°–ø–∏—Å–æ–∫ —Ç—É—Ä–æ–≤
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–∏–¥–∞–º–∏
- –®–∞–±–ª–æ–Ω—ã —Ç—É—Ä–æ–≤
- –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- –û—Ç—á—ë—Ç—ã (revenue, bookings)

**3. Guide Dashboard:**
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—É—Ä–æ–≤
- –¢–µ–∫—É—â–∏–µ –≥—Ä—É–ø–ø—ã
- –ó–∞—Ä–∞–±–æ—Ç–æ–∫
- –û—Ç–∑—ã–≤—ã
- –ö–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ü—Ä–æ—Ñ–∏–ª—å

**4. Transfer Operator Dashboard:**
- –ê–≤—Ç–æ–ø–∞—Ä–∫ (vehicles)
- –í–æ–¥–∏—Ç–µ–ª–∏ (drivers)
- –ú–∞—Ä—à—Ä—É—Ç—ã (routes)
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –û—Ç—á—ë—Ç—ã –ø–æ –≤—ã—Ä—É—á–∫–µ
- –î–æ–∫—É–º–µ–Ω—Ç—ã (–Ω–∞ –∞–≤—Ç–æ –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π)

**5. Agent Dashboard:**
- –ë–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- –í–∞—É—á–µ—Ä—ã
- –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ö–æ–º–∏—Å—Å–∏–æ–Ω–Ω—ã–µ
- –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ –≤—ã–ø–ª–∞—Ç—É
- –¢—É—Ä—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏

**6. Admin Dashboard:**
- –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Ç—É—Ä—ã, –æ—Ç–∑—ã–≤—ã)
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- Email —à–∞–±–ª–æ–Ω—ã

**7-15. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ dashboards:**
- Gear Provider (–ø–æ—Å—Ç–∞–≤—â–∏–∫ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏—è)
- Stay Provider (–∂–∏–ª—å—ë)
- Cars (–ø—Ä–æ–∫–∞—Ç –∞–≤—Ç–æ)
- Souvenirs (—Å—É–≤–µ–Ω–∏—Ä—ã)
- Safety (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- Tours (–æ–±—â–∏–π –∫–∞—Ç–∞–ª–æ–≥)
- Transfer (–¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤)

---

## ü§ñ AI –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã AI

**1. Groq AI (Llama 3.1)**
```typescript
// lib/ai/role-assistants.ts
- –ú–æ–¥–µ–ª—å: llama-3.1-70b-versatile
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 0.7
- –ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤: 2048
- –†–æ–ª—å-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
```

**2. DeepSeek AI**
```typescript
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- –î–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
```

### –†–æ–ª—å-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã

**–§–∞–π–ª:** `lib/ai/role-prompts.ts`

```typescript
TOURIST: "–í—ã - AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤ –Ω–∞ –ö–∞–º—á–∞—Ç–∫–µ..."
OPERATOR: "–í—ã - AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ç—É—Ä–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤..."
GUIDE: "–í—ã - AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –≥–∏–¥–æ–≤..."
TRANSFER: "–í—ã - AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π..."
AGENT: "–í—ã - AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ç—É—Ä–∞–≥–µ–Ω—Ç–æ–≤..."
ADMIN: "–í—ã - AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤..."
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
- –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
- –ü–æ–º–æ—â—å –≤ –ø–æ–∏—Å–∫–µ —Ç—É—Ä–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤

### Knowledge Base

```typescript
// /api/ai/knowledge-base
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ö–∞–º—á–∞—Ç–∫–µ
- FAQ –ø–æ —Ç—É—Ä–∞–º
- –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```

### Smart Search

```typescript
// /api/ai/smart-search
- Natural language –∑–∞–ø—Ä–æ—Å—ã
- "–ù–∞–π–¥–∏ —Ä—ã–±–∞–ª–∫—É –Ω–∞ 3 –¥–Ω—è –¥–æ 50000‚ÇΩ"
- AI –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –∏ –∏—â–µ—Ç
```

---

## üå§Ô∏è –ü–û–ì–û–î–ù–ê–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

### –Ø–Ω–¥–µ–∫—Å Weather API

**–§–∞–π–ª:** `lib/weather/yandex-weather.ts`

**–§—É–Ω–∫—Ü–∏–∏:**
- –¢–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞
- –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 7 –¥–Ω–µ–π
- –ü–æ—á–∞—Å–æ–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑
- –ü–æ–≥–æ–¥–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

**–í–∏–¥–∂–µ—Ç—ã:**
```typescript
WeatherWidget.tsx           - –ì–ª–∞–≤–Ω—ã–π –≤–∏–¥–∂–µ—Ç
SamsungWeatherDynamic.tsx   - –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (–∫–∞–∫ Samsung Weather)
WeatherBackground.tsx       - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ñ–æ–Ω
```

**API endpoint:**
```
GET /api/weather?lat=53.0375&lng=158.6556&location=–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫-–ö–∞–º—á–∞—Ç—Å–∫–∏–π
```

**Response:**
```json
{
  "success": true,
  "data": {
    "current": {
      "temp": -5,
      "feels_like": -10,
      "condition": "cloudy",
      "wind_speed": 5,
      "humidity": 80
    },
    "forecast": [...]
  }
}
```

---

## üó∫Ô∏è –ö–ê–†–¢–´ –ò –ì–ï–û–õ–û–ö–ê–¶–ò–Ø

### –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
```typescript
YandexMap.tsx              - –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–∞
TransferMap.tsx            - –ö–∞—Ä—Ç–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤
MapPanel.tsx               - –ü–∞–Ω–µ–ª—å –∫–∞—Ä—Ç—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ—á–µ–∫ —Ç—É—Ä–æ–≤
- –ú–∞—Ä—à—Ä—É—Ç—ã —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤
- –ì–µ–æ–∫–æ–¥–∏–Ω–≥ –∞–¥—Ä–µ—Å–æ–≤
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–∫–∏
- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è

**API:**
```
GET /api/geocode?address=–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫-–ö–∞–º—á–∞—Ç—Å–∫–∏–π
```

**PostGIS –≤ –ë–î:**
```sql
CREATE EXTENSION "postgis";

-- –í —Ç–∞–±–ª–∏—Ü–∞—Ö:
coordinates JSONB  -- {lat, lng, address, name}
```

---

## üí≥ –ü–õ–ê–¢–Å–ñ–ù–ê–Ø –°–ò–°–¢–ï–ú–ê

### CloudPayments Integration

**–§–∞–π–ª—ã:**
```typescript
lib/payments/cloudpayments-webhook.ts
lib/payments/transfer-payments.ts
components/payments/PaymentForm.tsx
```

**Flow:**
```
1. –ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞—ë—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
2. POST /api/payments/create
3. –ü–æ–ª—É—á–∞–µ—Ç payment widget URL
4. –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ CloudPayments
5. Webhook ‚Üí /api/webhooks/cloudpayments
6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ payment_status
7. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```

**API Endpoints:**
```
POST   /api/payments/create
GET    /api/payments/[id]/status
POST   /api/webhooks/cloudpayments
POST   /api/bookings/payments/[id]/refund
```

**–°—Ç–∞—Ç—É—Å—ã:**
- `pending` - –û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã
- `paid` - –û–ø–ª–∞—á–µ–Ω–æ
- `refunded` - –í–æ–∑–≤—Ä–∞—â–µ–Ω–æ

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### Test Frameworks

**1. Vitest (Unit + Integration):**
```javascript
// vitest.config.ts
export default defineConfig({
  test: {
    environment: 'jsdom',
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
    },
  },
});
```

**2. Jest (Legacy):**
```javascript
// jest.config.js + jest.setup.js
```

**3. Playwright (E2E):**
```typescript
// playwright.config.ts
- –ë—Ä–∞—É–∑–µ—Ä—ã: Chromium, Firefox, WebKit
- –°—Ç—Ä–∞–Ω–∏—Ü—ã: –≤—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ flows
```

**4. K6 (Load Testing):**
```bash
load-tests/k6/
‚îî‚îÄ run-load-test.sh
‚îî‚îÄ scenarios/
```

### –ö–æ–º–∞–Ω–¥—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
npm test                  # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
npm run test:ui           # Vitest UI
npm run test:coverage     # –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
npm run test:integration  # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ
npm run test:unit         # Unit —Ç–µ—Å—Ç—ã
npm run test:load         # Load testing
```

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

**Unit test (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ):**
```typescript
describe('TourCard', () => {
  it('renders tour information correctly', () => {
    // ...
  });
});
```

**Integration test:**
```typescript
describe('Booking API', () => {
  it('creates booking with payment', async () => {
    const res = await fetch('/api/bookings', {...});
    expect(res.status).toBe(201);
  });
});
```

**E2E test:**
```typescript
// e2e/tourist-booking.spec.ts
test('tourist can book a tour', async ({ page }) => {
  await page.goto('/tours');
  await page.click('[data-testid="tour-card"]');
  // ...
});
```

---

## üê≥ DEVOPS –ò –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê

### Docker

**Dockerfile (multi-stage):**
```dockerfile
# Stage 1: Dependencies
FROM node:18-alpine AS deps
WORKDIR /app
COPY package*.json ./
RUN npm ci

# Stage 2: Builder
FROM node:18-alpine AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .
RUN npm run build

# Stage 3: Runner
FROM node:18-alpine AS runner
WORKDIR /app
COPY --from=builder /app/.next ./.next
COPY --from=builder /app/public ./public
CMD ["npm", "start"]
```

**docker-compose.yml:**
```yaml
services:
  app:
    build: .
    ports:
      - "3000:3000"
    environment:
      - DATABASE_URL
      - NEXTAUTH_SECRET
      # + 20 –¥—Ä—É–≥–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    depends_on:
      - postgres
      - redis
  
  postgres:
    image: postgres:16-alpine
    volumes:
      - pgdata:/var/lib/postgresql/data
  
  redis:
    image: redis:7-alpine
```

### Kubernetes

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ k8s/:**
```
k8s/
‚îú‚îÄ base/                  # –ë–∞–∑–æ–≤—ã–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
‚îÇ  ‚îú‚îÄ deployment.yaml
‚îÇ  ‚îú‚îÄ service.yaml
‚îÇ  ‚îú‚îÄ ingress.yaml
‚îÇ  ‚îú‚îÄ configmap.yaml
‚îÇ  ‚îú‚îÄ secret.yaml
‚îÇ  ‚îî‚îÄ kustomization.yaml
‚îÇ
‚îú‚îÄ production/            # Production overlay
‚îÇ  ‚îú‚îÄ hpa.yaml           # Horizontal Pod Autoscaler
‚îÇ  ‚îú‚îÄ resources.yaml     # Limits & Requests
‚îÇ  ‚îî‚îÄ kustomization.yaml
‚îÇ
‚îî‚îÄ staging/               # Staging overlay
   ‚îî‚îÄ kustomization.yaml
```

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
npm run k8s:validate       # –í–∞–ª–∏–¥–∞—Ü–∏—è –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤
npm run k8s:apply          # –î–µ–ø–ª–æ–π –≤ –∫–ª–∞—Å—Ç–µ—Ä
npm run k8s:apply:prod     # Production –¥–µ–ø–ª–æ–π
```

### PM2

**ecosystem.config.js:**
```javascript
module.exports = {
  apps: [{
    name: 'kamhub',
    script: 'npm',
    args: 'start',
    instances: 'max',
    exec_mode: 'cluster',
    env: {
      NODE_ENV: 'production',
      PORT: 3000,
    },
    max_memory_restart: '500M',
    error_file: './logs/err.log',
    out_file: './logs/out.log',
  }],
};
```

### Nginx

**nginx.conf:**
```nginx
upstream kamhub {
    server localhost:3000;
}

server {
    listen 80;
    server_name kamhub.ru www.kamhub.ru;
    
    location / {
        proxy_pass http://kamhub;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        # ... –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, gzip, headers
    }
    
    location /_next/static {
        alias /var/www/kamhub/.next/static;
        expires 365d;
    }
}
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**Sentry:**
```typescript
// sentry.client.config.ts
// sentry.server.config.ts
// sentry.edge.config.ts

Sentry.init({
  dsn: process.env.SENTRY_DSN,
  tracesSampleRate: 1.0,
  environment: process.env.NODE_ENV,
});
```

**Monitoring scripts:**
```bash
monitoring/
‚îú‚îÄ health-check.sh
‚îú‚îÄ metrics.sh
‚îî‚îÄ alerts.sh
```

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø (161 —Ñ–∞–π–ª!)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ docs/

```
docs/
‚îú‚îÄ README.md                     # –ò–Ω–¥–µ–∫—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ design/                       # UX & Design (10+ —Ñ–∞–π–ª–æ–≤)
‚îÇ  ‚îú‚îÄ UX_RESEARCH_HOMEPAGE_DECISIONS.md
‚îÇ  ‚îú‚îÄ HOMEPAGE_WIREFRAME_PROTOTYPE.md
‚îÇ  ‚îú‚îÄ DESIGN_RATIONALE.md
‚îÇ  ‚îî‚îÄ SAMSUNG_WEATHER_ANALYSIS.md
‚îÇ
‚îú‚îÄ architecture/                 # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (15+ —Ñ–∞–π–ª–æ–≤)
‚îÇ  ‚îú‚îÄ ENTITIES_AND_ROLES_ANALYSIS.md
‚îÇ  ‚îú‚îÄ AUTH_MIGRATION_ANALYSIS.md
‚îÇ  ‚îú‚îÄ DATABASE_SCHEMA.md
‚îÇ  ‚îî‚îÄ API_DESIGN.md
‚îÇ
‚îú‚îÄ deployment/                   # –î–µ–ø–ª–æ–π (10+ —Ñ–∞–π–ª–æ–≤)
‚îÇ  ‚îú‚îÄ TIMEWEB_DEPLOY_NOW.md
‚îÇ  ‚îú‚îÄ DEPLOY_QUICKSTART.md
‚îÇ  ‚îú‚îÄ KUBERNETES_GUIDE.md
‚îÇ  ‚îî‚îÄ DOCKER_PRODUCTION.md
‚îÇ
‚îú‚îÄ business-logic/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ  ‚îú‚îÄ COMMISSION_SYSTEM.md
‚îÇ  ‚îú‚îÄ LOYALTY_PROGRAM.md
‚îÇ  ‚îî‚îÄ PAYMENT_FLOWS.md
‚îÇ
‚îú‚îÄ archive/                      # –ò—Å—Ç–æ—Ä–∏—è (100+ —Ñ–∞–π–ª–æ–≤)
‚îÇ  ‚îú‚îÄ STAGE_1_FOUNDATION.md
‚îÇ  ‚îú‚îÄ STAGE_2_DASHBOARDS.md
‚îÇ  ‚îú‚îÄ STAGE_3_ADVANCED.md
‚îÇ  ‚îú‚îÄ PHASE_*.md
‚îÇ  ‚îî‚îÄ SESSION_*.md
‚îÇ
‚îú‚îÄ SESSION_SUMMARY_2026-02-02.md
‚îú‚îÄ PAGES_AUDIT_2026-02-02.md
‚îî‚îÄ QUICK_START_TESTS.md
```

### –ö–∞—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**UX Research:**
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ë–∞—Ä—å–µ—Ä—ã –∏ –±–æ–ª–µ–≤—ã–µ —Ç–æ—á–∫–∏
- Wireframes —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º
- –ü—Ä–æ—Ç–æ—Ç–∏–ø—ã –Ω–∞ Tailwind

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- Entity-Relationship –¥–∏–∞–≥—Ä–∞–º–º—ã
- –ê–Ω–∞–ª–∏–∑ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –ú–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- API –¥–∏–∑–∞–π–Ω –ø—Ä–∏–Ω—Ü–∏–ø—ã

**–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏:**
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ —ç—Ç–∞–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- STAGE_1, 2, 3... - —Ñ–∞–∑—ã –ø—Ä–æ–µ–∫—Ç–∞
- SESSION_SUMMARY - –∏—Ç–æ–≥–∏ —Å–µ—Å—Å–∏–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è

---

## üé® UI/UX –î–ò–ó–ê–ô–ù

### Inspiration: Samsung Weather

**–ü—Ä–∏–Ω—Ü–∏–ø—ã:**
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∑–∞–ø—Ä–æ—Å—É (progressive disclosure)
- –°–Ω–∏–∂–µ–Ω–∏–µ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –Ω–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π
- –§–∞–∫—Ç—ã –≤–º–µ—Å—Ç–æ —Ä–µ–∫–ª–∞–º—ã

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `docs/design/SAMSUNG_WEATHER_ANALYSIS.md`
- –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –ø–æ—á–µ–º—É Samsung Weather —Ö–æ—Ä–æ—à
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∫ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ

### –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞

```css
/* –û–∫–µ–∞–Ω - Primary */
--ocean-50: #f0f9ff
--ocean-400: #38bdf8
--ocean-500: #0ea5e9  /* –ì–ª–∞–≤–Ω—ã–π */
--ocean-600: #0284c7
--ocean-700: #0369a1

/* –í—É–ª–∫–∞–Ω - Secondary */
--volcano-500: #64748b
--volcano-600: #475569

/* –ú–æ—Ö - Success/Nature */
--moss-500: #84cc16
--moss-600: #65a30d

/* –°–µ—Ä—ã–µ - –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ (10 –æ—Ç—Ç–µ–Ω–∫–æ–≤) */
--gray-50 –¥–æ --gray-900
```

### –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞

**–®—Ä–∏—Ñ—Ç:** Inter

**–†–∞–∑–º–µ—Ä—ã:**
```css
text-xs:   0.75rem  (12px)
text-sm:   0.875rem (14px)
text-base: 1rem     (16px)  /* –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
text-lg:   1.125rem (18px)
text-xl:   1.25rem  (20px)
text-2xl:  1.5rem   (24px)
text-3xl:  1.875rem (30px)
text-4xl:  2.25rem  (36px)
text-5xl:  3rem     (48px)
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

**shared/:**
- Button (–≤–∞—Ä–∏–∞–Ω—Ç—ã: primary, secondary, ghost)
- Card (—Å —Ç–µ–Ω—è–º–∏, borders)
- Input, Textarea
- Modal, Dialog
- Badge, Chip
- Skeleton (loading states)

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ:**
- FloatingNav - –ø–ª–∞–≤–∞—é—â–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- ThemeToggle - –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
- SearchFilters - —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞

---

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** Jose (JWT)

**–§–∞–π–ª—ã:**
```typescript
lib/auth/jwt.ts
lib/auth/session.ts
lib/middleware/auth.ts
```

**–ü–æ–¥—Ö–æ–¥:**
- JWT —Ç–æ–∫–µ–Ω—ã (–±–µ–∑ NextAuth)
- –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –†–æ–ª—å-based –¥–æ—Å—Ç—É–ø

**–ó–∞—â–∏—Ç–∞ —Ä–æ—É—Ç–æ–≤:**
```typescript
// middleware.ts
export async function middleware(request: NextRequest) {
  const session = await getSession(request);
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—É—Ç–∏
  if (pathname.startsWith('/hub/admin')) {
    if (session?.role !== 'admin') {
      return redirect('/auth/login');
    }
  }
}
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è

**Zod:**
```typescript
import { z } from 'zod';

const tourSchema = z.object({
  name: z.string().min(5),
  price: z.number().positive(),
  // ...
});
```

### Security Scripts

```bash
scripts/security/
‚îú‚îÄ audit.sh              # npm audit + –∞–Ω–∞–ª–∏–∑
‚îú‚îÄ detect-secrets.sh     # –ü–æ–∏—Å–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ –∫–æ–¥–µ
‚îî‚îÄ rate-limit.ts         # Rate limiting
```

---

## üì≤ –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### 1. Groq AI (Llama 3.1)

**API Key:** –¢—Ä–µ–±—É–µ—Ç—Å—è –≤ .env
```env
GROQ_API_KEY=gsk_...
```

**–ú–æ–¥–µ–ª—å:** `llama-3.1-70b-versatile`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
const response = await groq.chat.completions.create({
  model: "llama-3.1-70b-versatile",
  messages: [...],
  temperature: 0.7,
  max_tokens: 2048,
});
```

### 2. DeepSeek AI

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä**
```env
DEEPSEEK_API_KEY=...
```

### 3. –Ø–Ω–¥–µ–∫—Å Weather

**API Key:** –¢—Ä–µ–±—É–µ—Ç—Å—è
```env
YANDEX_WEATHER_API_KEY=...
```

**Endpoint:**
```
https://api.weather.yandex.ru/v2/forecast
?lat=53.0375&lon=158.6556
```

### 4. –Ø–Ω–¥–µ–∫—Å Maps

**API Key:**
```env
NEXT_PUBLIC_YANDEX_MAPS_API_KEY=...
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –ö–∞—Ä—Ç—ã
- –ì–µ–æ–∫–æ–¥–∏–Ω–≥
- –ú–∞—Ä—à—Ä—É—Ç—ã

### 5. CloudPayments

**Credentials:**
```env
CLOUDPAYMENTS_PUBLIC_ID=pk_...
CLOUDPAYMENTS_API_SECRET=...
```

**Widget:**
```javascript
const widget = new cp.CloudPayments();
widget.pay('charge', {
  publicId: process.env.CLOUDPAYMENTS_PUBLIC_ID,
  amount: totalPrice,
  currency: 'RUB',
  // ...
});
```

### 6. AWS S3

**–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**
```env
AWS_ACCESS_KEY_ID=...
AWS_SECRET_ACCESS_KEY=...
AWS_S3_BUCKET=kamhub-assets
AWS_REGION=us-east-1
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `@aws-sdk/client-s3`

### 7. Nodemailer

**Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
```env
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=465
SMTP_USER=...
SMTP_PASSWORD=...
```

### 8. Sentry

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
```env
SENTRY_DSN=https://...@sentry.io/...
```

### 9. Telegram Bot

**API:**
```env
TELEGRAM_BOT_TOKEN=...
TELEGRAM_CHAT_ID=...
```

---

## üèõÔ∏è PILLARS ARCHITECTURE

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ pillars/

```
pillars/
‚îú‚îÄ core-infrastructure/    # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ discovery-pillar/       # –ö–∞—Ç–∞–ª–æ–≥ –∏ –ø–æ–∏—Å–∫
‚îú‚îÄ booking-pillar/         # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ engagement/             # –í–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å
‚îú‚îÄ analytics-pillar/       # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îú‚îÄ analytics/              # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îú‚îÄ booking/                # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥—É–±–ª–∏–∫–∞—Ç?)
‚îî‚îÄ discovery/              # Discovery (–¥—É–±–ª–∏–∫–∞—Ç?)
```

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è "Pillars":**
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ "—Å—Ç–æ–ª–ø—ã" —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥—É–ª–∏
- –ò–∑–æ–ª—è—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

---

## üì± –ú–û–ë–ò–õ–¨–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ mobile-app/

```
mobile-app/
‚îî‚îÄ driver-app/            # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª–µ–π
   ‚îú‚îÄ src/
   ‚îú‚îÄ package.json
   ‚îî‚îÄ README.md
```

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ React Native

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª—è
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö
- –û—Ç–º–µ—Ç–∫–∞ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏

---

## üîç CONTEXTS (State Management)

```
contexts/
‚îú‚îÄ AuthContext.tsx        # –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ ThemeContext.tsx       # –¢–µ–º–∞ (light/dark)
‚îú‚îÄ NotificationContext.tsx # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îî‚îÄ ...
```

**–ü–æ–¥—Ö–æ–¥:** React Context API

---

## üõ†Ô∏è –°–ö–†–ò–ü–¢–´ –ò –£–¢–ò–õ–ò–¢–´

### scripts/

```bash
scripts/
‚îú‚îÄ setup-database.sh              # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
‚îú‚îÄ apply-new-schemas.sql          # –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º
‚îú‚îÄ update-knowledge-base.js       # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AI –±–∞–∑—ã
‚îú‚îÄ security/
‚îÇ  ‚îú‚îÄ audit.sh
‚îÇ  ‚îî‚îÄ detect-secrets.sh
‚îî‚îÄ deploy/
   ‚îú‚îÄ timeweb-deploy.sh
   ‚îî‚îÄ kubernetes-deploy.sh
```

---

## üì¶ –ó–ê–í–ò–°–ò–ú–û–°–¢–ò

### Production (19 –ø–∞–∫–µ—Ç–æ–≤)

| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|--------|------------|
| **next** | 15.5.10 | Framework |
| **react** | 18.3.1 | UI Library |
| **typescript** | 5.4.5 | –¢–∏–ø–∏–∑–∞—Ü–∏—è |
| **zod** | 3.22.4 | –í–∞–ª–∏–¥–∞—Ü–∏—è |
| **pg** | 8.11.3 | PostgreSQL –¥—Ä–∞–π–≤–µ—Ä |
| **bcryptjs** | 3.0.3 | –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π |
| **jose** | 5.2.0 | JWT |
| **date-fns** | 4.1.0 | –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ |
| **lucide-react** | 0.555.0 | –ò–∫–æ–Ω–∫–∏ (5000+) |
| **react-datepicker** | 8.10.0 | –ö–∞–ª–µ–Ω–¥–∞—Ä—å |
| **react-hot-toast** | 2.6.0 | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è |
| **nodemailer** | 7.0.13 | Email |
| **@aws-sdk/client-s3** | 3.927.0 | S3 –∑–∞–≥—Ä—É–∑–∫–∞ |
| **dotenv** | 16.6.1 | Env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ |
| **clsx** | 2.1.0 | –£—Ç–∏–ª–∏—Ç–∞ –∫–ª–∞—Å—Å–æ–≤ |

### Dev Dependencies (15 –ø–∞–∫–µ—Ç–æ–≤)

| –ü–∞–∫–µ—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|------------|
| **vitest** | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **@testing-library/react** | React —Ç–µ—Å—Ç—ã |
| **@vitejs/plugin-react** | Vite –ø–ª–∞–≥–∏–Ω |
| **@vitest/ui** | UI –¥–ª—è —Ç–µ—Å—Ç–æ–≤ |
| **jsdom** | DOM –¥–ª—è —Ç–µ—Å—Ç–æ–≤ |
| **eslint** | –õ–∏–Ω—Ç–µ—Ä |
| **tailwindcss** | CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| **autoprefixer** | CSS –ø—Ä–µ—Ñ–∏–∫—Å—ã |
| **postcss** | CSS –æ–±—Ä–∞–±–æ—Ç–∫–∞ |

---

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –§–ò–ß–ò

### 1. AI-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ —Ä–æ–ª—è–º

**–ö–∞–∂–¥–∞—è —Ä–æ–ª—å –∏–º–µ–µ—Ç —Å–≤–æ–µ–≥–æ AI:**
```typescript
TOURIST_PROMPT = `
–í—ã - –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤.
–ü–æ–º–æ–≥–∞–µ—Ç–µ:
- –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ç—É—Ä
- –°–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç
- –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –ö–∞–º—á–∞—Ç–∫–µ
- –î–∞—Ç—å —Å–æ–≤–µ—Ç—ã –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
`;

OPERATOR_PROMPT = `
–í—ã - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ç—É—Ä–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.
–ü–æ–º–æ–≥–∞–µ—Ç–µ:
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ø—Ä–æ—Å
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º
- –£–ª—É—á—à–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏—è —Ç—É—Ä–æ–≤
`;

GUIDE_PROMPT = `
–í—ã - AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –≥–∏–¥–æ–≤.
–ü–æ–º–æ–≥–∞–µ—Ç–µ:
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã
- –î–∞–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ª–æ–∫–∞—Ü–∏—è—Ö
- –£–ø—Ä–∞–≤–ª—è—Ç—å –≥—Ä—É–ø–ø–∞–º–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–≥–æ–¥—É
`;

// ... –∏ —Ç.–¥. –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏
```

### 2. Smart Search

**Natural Language –∑–∞–ø—Ä–æ—Å—ã:**
```
–í—Ö–æ–¥: "–•–æ—á—É –Ω–∞ —Ä—ã–±–∞–ª–∫—É –Ω–∞ 3 –¥–Ω—è, –±—é–¥–∂–µ—Ç 50000"
  ‚Üì
AI –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç:
  - activity: fishing
  - duration: 3 days
  - max_price: 50000
  ‚Üì
SQL –∑–∞–ø—Ä–æ—Å:
  SELECT * FROM tours
  WHERE category = 'fishing'
  AND duration <= 72 hours
  AND price * 3 <= 50000
  ‚Üì
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

### 3. Weather Integration

**–í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã:**
- –¢–µ–∫—É—â–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
- –û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫
- –í–ª–∞–∂–Ω–æ—Å—Ç—å, –≤–µ—Ç–µ—Ä
- –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 7 –¥–Ω–µ–π
- –ü–æ—á–∞—Å–æ–≤–æ–π –ø—Ä–æ–≥–Ω–æ–∑
- –ü–æ–≥–æ–¥–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç—É—Ä–∞—Ö:**
- –ü–æ–≥–æ–¥–∞ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–µ
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–¥–µ–∂–¥–µ
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ–± –æ–ø–∞—Å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö

### 4. Eco-Points Gamification

**–°–∏—Å—Ç–µ–º–∞ –º–æ—Ç–∏–≤–∞—Ü–∏–∏:**
```
–¢—É—Ä–∏—Å—Ç —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —ç–∫–æ-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  ‚Üì
–ü–æ–ª—É—á–∞–µ—Ç –±–∞–ª–ª—ã (points)
  ‚Üì
–ü–æ–≤—ã—à–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å (level)
  ‚Üì
–†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (achievements)
  ‚Üì
–ü–æ–ª—É—á–∞–µ—Ç —Å–∫–∏–¥–∫–∏ –Ω–∞ —Ç—É—Ä—ã
```

**–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**
- –£–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ (+50 points)
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –æ—Ç—Ö–æ–¥–æ–≤ (+30 points)
- –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã (+20 points)
- –ü–æ—Å–∞–¥–∫–∞ –¥–µ—Ä–µ–≤—å–µ–≤ (+100 points)

### 5. Transfer System

**–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä–æ–≤:**
```
–¢—É—Ä–∏—Å—Ç –∏—â–µ—Ç —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä
  ‚Üì
–í—ã–±–∏—Ä–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç (–∞—ç—Ä–æ–ø–æ—Ä—Ç ‚Üí –æ—Ç–µ–ª—å)
  ‚Üì
–í–∏–¥–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  ‚Üì
–í—ã–±–∏—Ä–∞–µ—Ç –≤—Ä–µ–º—è –∏ –∞–≤—Ç–æ
  ‚Üì
–ë—Ä–æ–Ω–∏—Ä—É–µ—Ç —Å –æ–ø–ª–∞—Ç–æ–π
  ‚Üì
–û–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  ‚Üì
–ù–∞–∑–Ω–∞—á–∞–µ—Ç –≤–æ–¥–∏—Ç–µ–ª—è
  ‚Üì
–í–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
  ‚Üì
–í—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä
```

### 6. CRM –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

**Dashboard –≤–∫–ª—é—á–∞–µ—Ç:**
- –ì—Ä–∞—Ñ–∏–∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π (chart.js?)
- –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- Top —Ç—É—Ä—ã –ø–æ –≤—ã—Ä—É—á–∫–µ
- –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏
- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–∏–¥–∞–º–∏
- –®–∞–±–ª–æ–Ω—ã —Ç—É—Ä–æ–≤
- Email —Ä–∞—Å—Å—ã–ª–∫–∏

### 7. Commission System

**–î–ª—è –∞–≥–µ–Ω—Ç–æ–≤:**
```
–ê–≥–µ–Ω—Ç –ø—Ä–æ–¥–∞—ë—Ç —Ç—É—Ä
  ‚Üì
–°–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ agent_commissions
  ‚Üì
–°—Ç–∞—Ç—É—Å: pending
  ‚Üì
–ê–¥–º–∏–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç
  ‚Üì
–°—Ç–∞—Ç—É—Å: approved
  ‚Üì
–ê–≥–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤—ã–ø–ª–∞—Ç—É
  ‚Üì
–°—Ç–∞—Ç—É—Å: paid
  ‚Üì
–î–µ–Ω—å–≥–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã
```

**–°—Ç–∞–≤–∫–∏ –∫–æ–º–∏—Å—Å–∏–π:**
- –¢—É—Ä—ã: 10-15%
- –¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã: 5-10%
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ: 10%
- –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ: 5%

---

## üß¨ CONTEXTS VS PROPS

### –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**Contexts:**
```typescript
AuthContext         - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Ä–æ–ª—å
ThemeContext        - Light/Dark —Ç–µ–º–∞
NotificationContext - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
CartContext         - –ö–æ—Ä–∑–∏–Ω–∞ (–¥–ª—è —Å—É–≤–µ–Ω–∏—Ä–æ–≤?)
```

**–ë–µ–∑ Redux/Zustand** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è React Context

---

## üìà PRODUCTION READY FEATURES

### 1. Health Checks

```typescript
GET /api/health
GET /api/health/db
GET /api/ping
```

**–ü—Ä–æ–≤–µ—Ä—è—é—Ç:**
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞

### 2. Error Handling

**Sentry:**
- –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏
- Edge —Ñ—É–Ω–∫—Ü–∏–∏

**Logging:**
```typescript
console.error() ‚Üí Sentry ‚Üí Dashboard
```

### 3. Rate Limiting

**lib/middleware/rate-limit.ts**
- –ó–∞—â–∏—Ç–∞ –æ—Ç DDoS
- –õ–∏–º–∏—Ç—ã –Ω–∞ API endpoints

### 4. CSRF Protection

```typescript
GET /api/csrf-token
```

### 5. Input Sanitization

- Zod –≤–∞–ª–∏–¥–∞—Ü–∏—è
- SQL injection –∑–∞—â–∏—Ç–∞ (—á–µ—Ä–µ–∑ pg –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
- XSS –∑–∞—â–∏—Ç–∞ (React –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üöÄ PRODUCTION DEPLOYMENT

### –û–∫—Ä—É–∂–µ–Ω–∏—è

**1. Development:**
```bash
npm run dev
# localhost:3000
```

**2. Staging:**
```bash
kubectl apply -k k8s/staging
```

**3. Production:**
```bash
kubectl apply -k k8s/production
# Autoscaling
# Load balancing
# Health checks
```

### Environment Variables (50+!)

```env
# Database
DATABASE_URL=

# Auth
NEXTAUTH_SECRET=
NEXTAUTH_URL=

# AI
GROQ_API_KEY=
DEEPSEEK_API_KEY=

# Weather & Maps
YANDEX_WEATHER_API_KEY=
YANDEX_MAPS_API_KEY=
NEXT_PUBLIC_YANDEX_MAPS_API_KEY=

# Payments
CLOUDPAYMENTS_PUBLIC_ID=
CLOUDPAYMENTS_API_SECRET=

# Email
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASSWORD=
FROM_EMAIL=

# Storage
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_REGION=

# Monitoring
SENTRY_DSN=
SENTRY_ORG=
SENTRY_PROJECT=

# Telegram
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# App
NEXT_PUBLIC_SITE_URL=
NODE_ENV=
PORT=
```

---

## üéì LESSONS LEARNED (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)

### –ò–∑ SESSION_SUMMARY_2026-02-02.md:

**–ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (302 ‚Üí 161 —Ñ–∞–π–ª)
- –ê—É–¥–∏—Ç –≤—Å–µ—Ö 91 —Å—Ç—Ä–∞–Ω–∏—Ü
- –£—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ß–∏—Å—Ç–∫–∞ git –≤–µ—Ç–æ–∫

**–ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:**
- –ü—Ä–∏–∑—Ä–∞—á–Ω—ã–µ –≤–µ—Ç–∫–∏ —É–¥–∞–ª–µ–Ω—ã
- Build errors –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∞

### Design Decisions:

**–ü–æ—á–µ–º—É Samsung Weather —Å—Ç–∏–ª—å:**
1. –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π = –º–µ–Ω—å—à–µ —Ç—Ä–µ–≤–æ–≥–∏
2. –§–∞–∫—Ç—ã –≤–º–µ—Å—Ç–æ —Ä–µ–∫–ª–∞–º—ã = –¥–æ–≤–µ—Ä–∏–µ
3. Progressive disclosure = –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ–º
4. –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π = —Å–µ—Ä—å—ë–∑–Ω–æ—Å—Ç—å

---

## üéØ –°–†–ê–í–ù–ï–ù–ò–ï –° HABKAM

### –ß—Ç–æ –æ–±—â–µ–≥–æ

```
‚úÖ Next.js (App Router)
‚úÖ TypeScript
‚úÖ Tailwind CSS
‚úÖ PostgreSQL
‚úÖ –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—É—Ä–æ–≤
‚úÖ –ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ –ø–∞–Ω–µ–ª–∏
‚úÖ –†–æ–ª—å-based –¥–æ—Å—Ç—É–ø
```

### –ß—Ç–æ –ù–ï –æ–±—â–µ–≥–æ

| –§–∏—á–∞ | HabKam | PosPkTry |
|------|--------|----------|
| **–†–∞–∑–º–µ—Ä** | 420 KB | 41 MB |
| **ORM** | Prisma | Raw SQL (pg) |
| **Auth** | NextAuth v5 | Jose (custom) |
| **API** | 12 | 215 |
| **–†–æ–ª–∏** | 2 | 8+ |
| **AI** | ‚ùå | ‚úÖ Groq + DeepSeek |
| **–ü–æ–≥–æ–¥–∞** | ‚ùå | ‚úÖ –Ø–Ω–¥–µ–∫—Å API |
| **–ö–∞—Ä—Ç—ã** | ‚ùå | ‚úÖ –Ø–Ω–¥–µ–∫—Å |
| **–ü–ª–∞—Ç–µ–∂–∏** | ‚ùå | ‚úÖ CloudPayments |
| **–¢—Ä–∞–Ω—Å—Ñ–µ—Ä—ã** | ‚ùå | ‚úÖ –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ |
| **Eco-points** | ‚ùå | ‚úÖ Gamification |
| **–¢–µ—Å—Ç—ã** | ‚ùå | ‚úÖ Vitest + Playwright |
| **K8s** | ‚ùå | ‚úÖ |
| **–ú–æ–±–∏–ª—å–Ω–æ–µ** | ‚ùå | ‚úÖ driver-app |

---

## üí° –ê–ù–ê–õ–ò–ó –ö–ê–ß–ï–°–¢–í–ê –ö–û–î–ê

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**
- –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–æ–ª—è–º
- Pillars –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

‚úÖ **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- TypeScript strict mode
- Zod –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ API –æ—Ç–≤–µ—Ç—ã

‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- 161 —Ñ–∞–π–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- UX –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –æ–±–æ—Å–Ω–æ–≤–∞–Ω—ã

‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- Unit, Integration, E2E
- Load testing
- Security audits

‚úÖ **Production Ready**
- Health checks
- Error monitoring (Sentry)
- Kubernetes support
- Docker multi-stage

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

‚ö†Ô∏è **–°–ª–æ–∂–Ω–æ—Å—Ç—å**
- 215 API endpoints (—Å–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å)
- 91 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–±–æ–ª—å—à–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞)
- –ú–Ω–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö API)

‚ö†Ô∏è **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π dashboards
- Pillars vs –ø—Ä—è–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- discovery/ –∏ discovery-pillar/

‚ö†Ô∏è **–†–∞–∑–º–µ—Ä**
- 41 MB —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ú–µ–¥–ª–µ–Ω–Ω—ã–π git clone
- –ë–æ–ª—å—à–æ–π bundle size (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)

‚ö†Ô∏è **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
- 9 –≤–Ω–µ—à–Ω–∏—Ö API (—Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–∞)
- AWS, Yandex, Groq, DeepSeek, CloudPayments
- –í—ã—Å–æ–∫–∏–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ API

‚ö†Ô∏è **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
- Raw SQL –≤–º–µ—Å—Ç–æ ORM (risk SQL injection)
- –†—É—á–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (risk –æ—à–∏–±–æ–∫)
- 30+ —Ç–∞–±–ª–∏—Ü (—Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏)

---

## üèÜ –û–¶–ï–ù–ö–ê –ü–†–û–ï–ö–¢–ê

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å: **9/10**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫
- Kubernetes ready
- –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û—Ç–ª–∏—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ú–∏–Ω—É—Å—ã:**
- –ò–∑–ª–∏—à–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è MVP
- –ú–Ω–æ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- Raw SQL (—Ä–∏—Å–∫)

### –ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å: **7/10**

**–ü–ª—é—Å—ã:**
- –†–µ—à–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –∑–∞–¥–∞—á—É
- –ú–Ω–æ–≥–æ —Ä–æ–ª–µ–π = –º–Ω–æ–≥–æ revenue streams
- –≠–∫–æ—Å–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–¥—Ö–æ–¥

**–ú–∏–Ω—É—Å—ã:**
- –°–ª–æ–∂–Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–π)
- –í—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –î–æ–ª–≥–æ –¥–æ –ø–µ—Ä–≤–æ–π –ø—Ä–∏–±—ã–ª–∏

### UX/UI: **9/10**

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ–¥—É–º–∞–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω
- UX –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- Samsung Weather —Å—Ç–∏–ª—å
- Responsive

**–ú–∏–Ω—É—Å—ã:**
- –ú–Ω–æ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (overwhelming?)
- 15 dashboards (—Å–ª–æ–∂–Ω–æ navigate)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: **10/10**

**–ò–¥–µ–∞–ª—å–Ω–æ:**
- 161 —Ñ–∞–π–ª
- –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –ø–æ –ø–∞–ø–∫–∞–º
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏
- UX –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è
- API —Ä–µ—Ñ–µ—Ä–µ–Ω—Å

---

## üé¨ –§–ò–ù–ê–õ–¨–ù–´–ô –í–ï–†–î–ò–ö–¢

### PosPkTry (KamHub) - —ç—Ç–æ:

**‚úÖ Enterprise-—É—Ä–æ–≤–µ–Ω—å –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞**
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–¥—É—Å—Ç—Ä–∏–∏
- –ì–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
- –û—Ç–ª–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Production-ready

**‚ö†Ô∏è Overkill –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞**
- –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–∞—è –¥–ª—è 1-2 –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –í—ã—Å–æ–∫–∏–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É
- –ú–Ω–æ–≥–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –î–æ–ª–≥–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**üéØ –ò–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è:**
- –ö—Ä—É–ø–Ω—ã–µ —Ç—É—Ä–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (10+ —Ç—É—Ä–æ–≤)
- –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤
- –ö–æ–º–ø–∞–Ω–∏–∏ —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –æ—Ç–¥–µ–ª–æ–º
- –ü—Ä–æ–µ–∫—Ç—ã —Å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–º–∏

**‚ùå –ù–ï –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**
- –°—Ç–∞—Ä—Ç–∞–ø–æ–≤ (—Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ)
- –ú–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ (overkill)
- MVP (–∏–∑–±—ã—Ç–æ—á–Ω–æ)
- –ü—Ä–æ–µ–∫—Ç–æ–≤ –±–µ–∑ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

## üîÆ –ß–¢–û –í–ó–Ø–¢–¨ –ò–ó POSPKTRY –í HABKAM

### Must Have (—Å—Ä–æ—á–Ω–æ)

1. **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
   - `FloatingNav.tsx` - –ø–ª–∞–≤–∞—é—â–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
   - `SearchFilters.tsx` - —Ñ–∏–ª—å—Ç—Ä—ã
   - `WeatherWidget.tsx` - –ø–æ–≥–æ–¥–∞

2. **API —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–æ–ª—è–º
   - –í–∞–ª–∏–¥–∞—Ü–∏—è Zod –Ω–∞ –∫–∞–∂–¥–æ–º endpoint
   - Health checks

3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - UX –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è
   - API —Ä–µ—Ñ–µ—Ä–µ–Ω—Å
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã

### Nice to Have (–≤ –±—É–¥—É—â–µ–º)

1. **AI –ø–æ–º–æ—â–Ω–∏–∫** (Groq)
2. **–ü–ª–∞—Ç–µ–∂–∏** (CloudPayments)
3. **–¢–µ—Å—Ç—ã** (Vitest)
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (Sentry)

### –ù–µ –±—Ä–∞—Ç—å (–∏–∑–±—ã—Ç–æ—á–Ω–æ)

1. ‚ùå 15 dashboards (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ)
2. ‚ùå Raw SQL (Prisma –ª—É—á—à–µ)
3. ‚ùå Kubernetes (–¥–ª—è –º–∞–ª–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ –Ω—É–∂–µ–Ω)
4. ‚ùå Eco-points (–Ω–µ core —Ñ—É–Ω–∫—Ü–∏—è)
5. ‚ùå –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Å–∏—Å—Ç–µ–º

---

## üìä –ò–¢–û–ì–û–í–´–ï –ú–ï–¢–†–ò–ö–ò

```
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: 41.4 MB (98x –±–æ–ª—å—à–µ HabKam)
TypeScript: 619 —Ñ–∞–π–ª–æ–≤ (6.8x –±–æ–ª—å—à–µ)
API: 215 endpoints (17.9x –±–æ–ª—å—à–µ)
–°—Ç—Ä–∞–Ω–∏—Ü: 91 (6.5x –±–æ–ª—å—à–µ)
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: 108 (7.2x –±–æ–ª—å—à–µ)
–¢–∞–±–ª–∏—Ü –ë–î: 30+ (7.5x –±–æ–ª—å—à–µ)
–î–æ–∫—É–º–µ–Ω—Ç–æ–≤: 161 (20x –±–æ–ª—å—à–µ)
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π: 9 (9x –±–æ–ª—å—à–µ)
–†–æ–ª–µ–π: 8+ (4x –±–æ–ª—å—à–µ)

–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –º–µ—Å—è—Ü—ã
–ö–æ–º–∞–Ω–¥–∞: 3-5 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–æ—Ü–µ–Ω–∫–∞)
–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏: –í—ã—Å–æ–∫–∞—è
–°—Ç–æ–∏–º–æ—Å—Ç—å —Ö–æ—Å—Ç–∏–Ω–≥–∞: –í—ã—Å–æ–∫–∞—è (K8s, AI API, S3)
```

---

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**PosPkTry (KamHub)** - —ç—Ç–æ **–∞–º–±–∏—Ü–∏–æ–∑–Ω—ã–π –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω—ã–π –ø—Ä–æ–µ–∫—Ç**:
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ Enterprise-—Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ Production-ready

**–ù–û** –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞ (–∫–∞–∫ fishingkam.ru) —ç—Ç–æ **overkill**.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **HabKam** –¥–ª—è —Å—Ç–∞—Ä—Ç–∞
- –ó–∞–∏–º—Å—Ç–≤—É–π—Ç–µ **–ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏** –∏–∑ PosPkTry
- –î–æ–±–∞–≤–ª—è–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ **–ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞**

**HabKam + –ª—É—á—à–µ–µ –∏–∑ PosPkTry = –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ! üöÄ**

---

**–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω!** üî¨

*–§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω: `docs/POSPKTRY_DEEP_ANALYSIS.md`*
